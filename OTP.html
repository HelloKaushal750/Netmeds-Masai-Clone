<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MedicBuilders.com</title>
    <link rel="stylesheet" href="OTP.css" />
  </head>
  <body>
    <h1 id="verify">OTP Verification</h1>
    <div id="para">
      <p>
        A OTP (One Time Password) has been sent to your registered mobile
        number. Please enter the OTP in the field below to verify your bank
        account.
      </p>
    </div>
    <div class="Container">
      <h1>ENTER OTP</h1>
      <div class="UserInput">
        <input type="Text" id="First" maxlength="1" />
        <input type="Text" id="Second" maxlength="1" />
        <input type="Text" id="Third" maxlength="1" />
        <input type="Text" id="Fourth" maxlength="1" />
        <input type="Text" id="Fifth" maxlength="1" />
      </div>
      <div id="btn">
        <button type="submit" id="confirm">CONFIRM</button>
        <button id="resend">Resend OTP</button>
      </div>
    </div>
  </body>
</html>

<script>
  var OTP = ["1", "2", "3", "4", "5"];
  localStorage.setItem("OTP", JSON.stringify(OTP));

  document.getElementById("confirm").addEventListener("click", submitotp);

  function submitotp() {
    var otp = {
      First: document.getElementById("First").value,
      Second: document.getElementById("Second").value,
      Third: document.getElementById("Third").value,
      Fourth: document.getElementById("Fourth").value,
      Fifth: document.getElementById("Fifth").value,
    };
    
    if(document.getElementById("First").value === "" ||
    document.getElementById("Second").value === "" ||
    document.getElementById("Third").value === "" ||
    document.getElementById("Fourth").value === "" ||
    document.getElementById("Fifth").value === ""){
        alert("Fill all the input details");
        return;
    }

    var arr = [];
    arr.push(otp);

    document.getElementById("First").value = "";
    document.getElementById("Second").value = "";
    document.getElementById("Third").value = "";
    document.getElementById("Fourth").value = "";
    document.getElementById("Fifth").value = "";

    var originalotp = JSON.parse(localStorage.getItem("OTP"));

    var flag = true;
    arr.map(function (ele, index) {
      if (ele.First !== originalotp[0] || ele.Second !== originalotp[1] || ele.Third !== originalotp[2] || ele.Fourth !== originalotp[3] || ele.Fifth !== originalotp[4]) {
        flag = false;
      }
    });

    if (flag === false) {
      alert("Incorrect OTP, Correct OTP: 12345");
    } else {
      var btn = document.getElementById("btn");
      btn.setAttribute("onclick", "window.location.href = 'thankyou.html'");
    }
  }

  document.getElementById("resend").addEventListener("click", sent);

  function sent() {
    alert("OTP successfully sent to your RMN.")
  }
</script>
