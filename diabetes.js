var product_data = [
  {
    id: 1,
    quantity: 1,
    name: "Aimil Amree Plus Capsule 20's",
    price: "128.25",
    Category: "Diabetes Care Ayurveda",
    brand: "Mkt: Herbalify Global",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/377969/amree_plus_capsule_20_s_0.jpg",
    popularity: 3,
  },
  {
    id: 2,
    quantity: 1,
    name: "Aimil BGR-34 Tablet 100's",
    price: "570.00",
    Category: "Diabetes Care Ayurveda",
    brand: "Mkt: Herbalify Global",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/951867/aimil_amree_plus_capsule_pack_of_2_x_20s_0_.jpg",
    popularity: 2,
  },
  {
    id: 3,
    quantity: 1,
    name: "Aimil Amree Plus Tablet 60's",
    price: "350.70",
    Category: "Diabetes Care Ayurveda",
    brand: "Mkt: Herbalify Global",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/903659/amree_plus_tablet_60s_0_1.jpg",
    popularity: 1,
  },
  {
    id: 4,
    quantity: 1,
    name: "Ensure Diabetes Care Powder - Vanilla Flavour 400 gm (Pet Jar)",
    price: "816.00",
    Category: "Diabetes Management Supplements",
    brand: "Mkt: Abbott Healthcare Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/413072/ensure_diabetes_care_powder_vanilla_flavour_400_gm_pet_jar_0.jpg",
    popularity: 5,
  },
  {
    id: 5,
    quantity: 1,
    name: "Sugar Free Gold Powder 100 gm",
    price: "150.00",
    Category: "Sugar Substitutes",
    brand: "Mkt: Cadila Healthcare Ltd (Zydus)",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/350466/sugar_free_gold_powder_100_gm_0_1.jpg",
    popularity: 6,
  },
  {
    id: 6,
    quantity: 1,
    name: "Sugar Free Gold Pellet 500's",
    price: "185.09",
    Category: "Sugar Substitutes",
    brand: "Mkt: Cadila Healthcare Ltd (Zydus)",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/14329/sugar_free_gold_pellet_500s_0_3.jpg",
    popularity: 7,
  },
  {
    id: 7,
    quantity: 1,
    name: "Sugar Free Natura Pellet 500's",
    price: "183.35",
    Category: "Sugar Substitutes",
    brand: "Mkt: Cadila Healthcare Ltd (Zydus)",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/14335/sugar_free_natura_pellet_500s_0_3.jpg",
    popularity: 4,
  },
  {
    id: 8,
    quantity: 1,
    name: "Sugar Free Gold Pellet 300's",
    price: "190.00",
    Category: "Sugar Substitutes",
    brand: "Mkt: Cadila Healthcare Ltd (Zydus)",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/14328/sugar_free_gold_pellet_300s_0_3.jpg",
    popularity: 6,
  },
  {
    id: 9,
    quantity: 1,
    name: "Sugar Free Natura Pellet 100's",
    price: "72.75",
    Category: "Sugar Substitutes",
    brand: "Mkt: Cadila Healthcare Ltd (Zydus)",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/14374/sugar_free_natura_pellet_100_s_0.jpg",
    popularity: 3,
  },
  {
    id: 10,
    quantity: 1,
    name: "AccuSure Simple Gluco Test Strip 25's",
    price: "446.25",
    Category: "Glucometers",
    brand: "Mkt: Microgene Diagnostic Systems Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/857448/accusure_simple_gluco_test_strip_25_s_0.jpg",
    popularity: 9,
  },
  {
    id: 11,
    quantity: 1,
    name: "AccuSure Simple Gluco Test Strip 100's",
    price: "1912.50",
    Category: "Glucometers",
    brand: "Mkt: Microgene Diagnostic Systems Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/857450/accusure_simple_gluco_test_strip_100s_0_2.jpg",
    popularity: 5,
  },
  {
    id: 12,
    quantity: 1,
    name: "AccuSure Simple Gluco Meter with 25 Strips",
    price: "657.80",
    Category: "Glucometers",
    brand: "Mkt: Microgene Diagnostic Systems Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/857447/accusure_simple_gluco_meter_with_25_strips_0.jpg",
    popularity: 1,
  },
  {
    id: 13,
    quantity: 1,
    name: "AccuSure Sensor Gluco Test Strip 50's",
    price: "1170.00",
    Category: "Glucometers",
    brand: "Mkt: Microgene Diagnostic Systems Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/961774/accusure_sensor_gluco_test_strip_50s_0_0.jpg",
    popularity: 7,
  },
  {
    id: 14,
    quantity: 1,
    name: "AccuSure Blue Gluco Meter with 25 Strips",
    price: "1755.00",
    Category: "Glucometers",
    brand: "Mkt: Microgene Diagnostic Systems Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/936131/accusure_blue_gluco_meter_with_25_strips_0_0.jpg",
    popularity: 6,
  },
  {
    id: 15,
    quantity: 1,
    name: "So Sweet 100% Natural 0% Calories Sweetener Erythritol",
    price: "187.50",
    Category: "Sugar Substitutes",
    brand: "Mkt: Herboveda India",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/828491/so_sweet_100_natural_0_calories_sweetener_erythritol_powder_250_gm_0.jpg",
    popularity: 2,
  },
  {
    id: 16,
    quantity: 1,
    name: "So Sweet 100% Natural 0% Calories Sweetener Stevia",
    price: "180.00",
    Category: "Sugar Substitutes",
    brand: "Mkt: Herboveda India",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/828496/so_sweet_100_natural_0_calories_sweetener_stevia_tablets_200_s_0.jpg",
    popularity: 9,
  },
  {
    id: 17,
    quantity: 1,
    name: "So Sweet 100% Natural Sugarfree Sweetener Stevia",
    price: "127.50",
    Category: "Sugar Substitutes",
    brand: "Mkt: Herboveda India",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/828490/so_sweet_100_natural_sugarfree_sweetener_stevia_sachet_50s_0_1.jpg",
    popularity: 2,
  },
  {
    id: 18,
    quantity: 1,
    name: "So Sweet 100% Natural 0% Calories Sweetener Stevia",
    price: "600.00",
    Category: "Sugar Substitutes",
    brand: "Mkt: Herboveda India",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/828503/so_sweet_100_natural_0_calories_sweetener_stevia_spoonable_powder_500_gm_0.jpg",
    popularity: 1,
  },
  {
    id: 19,
    quantity: 1,
    name: "So Sweet 100% Natural 0% Calories Sweetener Stevia",
    price: "427.50",
    Category: "Sugar Substitutes",
    brand: "Mkt: Herboveda India",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/828503/so_sweet_100_natural_0_calories_sweetener_stevia_spoonable_powder_500_gm_0.jpg",
    popularity: 2,
  },
  {
    id: 20,
    quantity: 1,
    name: "OneTouch Select Plus Simple Blood Glucose Monitoring",
    price: "875.16",
    Category: "Glucometers",
    brand: "Mkt: Lifescan Medical Device India Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/854053/onetouch_select_plus_simple_blood_glucose_monitoring_system_10_test_strips_0_4.jpg",
    popularity: 6,
  },
  {
    id: 21,
    quantity: 1,
    name: "OneTouch Verio Flex Blood Glucose Monitoring System",
    price: "1075.22",
    Category: "Glucometers",
    brand: "Mkt: Lifescan Medical Device India Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/408327/one_touch_verio_flex_blood_glucose_monitoring_system_10_test_strips_0_4.jpg",
    popularity: 3,
  },
  {
    id: 22,
    quantity: 1,
    name: "OneTouch Verio Flex Blood Glucose Monitoring System",
    price: "2454.30",
    Category: "Glucometers",
    brand: "Mkt: Lifescan Medical Device India Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/1038662/onetouch_verio_flex_blood_glucose_monitoring_system_lancing_device_10s_lancets_free_50s_test_strips_0_2.jpg",
    popularity: 1,
  },
  {
    id: 23,
    quantity: 1,
    name: "Ensure Diabetes Care Powder - Vanilla Flavour 400 gm (Pet Jar)",
    price: "816.00",
    Category: "Diabetes Management Supplements",
    brand: "Mkt: Abbott Healthcare Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/413072/ensure_diabetes_care_powder_vanilla_flavour_400_gm_pet_jar_0.jpg",
    popularity: 8,
  },
  {
    id: 24,
    quantity: 1,
    name: "Ensure Diabetes Care Powder - Chocolate Flavour 200 gm",
    price: "446.20",
    Category: "Diabetes Management Supplements",
    brand: "Mkt: Abbott Healthcare Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/804123/ensure_diabetes_care_powder_chocolate_flavour_200_gm_refill_pack_0_1.jpg",
    popularity: 7,
  },
  {
    id: 25,
    quantity: 1,
    name: "Ensure Diabetes Care Powder - Vanilla Flavour 200 gm",
    price: "437.00",
    Category: "Diabetes Management Supplements",
    brand: "Mkt: Abbott Healthcare Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/890983/ensure_diabetes_care_powder_vanilla_flavour_200_gm_refill_pack_0_1.jpg",
    popularity: 4,
  },
  {
    id: 26,
    quantity: 1,
    name: "Ensure Diabetes Care Powder - Vanilla Flavour 1 kg",
    price: "1687.95",
    Category: "Diabetes Management Supplements",
    brand: "Mkt: Abbott Healthcare Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/902372/ensure_diabetes_care_powder_vanilla_flavour_1_kg_refill_pack_0_0.jpg",
    popularity: 6,
  },
  {
    id: 27,
    quantity: 1,
    name: "Ensure Diabetes Care Powder - Vanilla Flavour 400 gm",
    price: "790.00",
    Category: "Diabetes Management Supplements",
    brand: "Mkt: Abbott Healthcare Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/961956/ensure_diabetes_care_powder_vanilla_flavour_400_gm_refill_pack_0_0.jpg",
    popularity: 2,
  },
];

var product_data_stringfy = JSON.stringify(product_data);
localStorage.setItem("products", product_data_stringfy);

var parsed_data = JSON.parse(localStorage.getItem("products"));

var displaydiv = document.getElementById("productcarddiv");

function showall() {
  parsed_data.forEach(function (product) {
    let div = document.createElement("div");

    let p_image = document.createElement("img");
    p_image.src = product.image;

    let p_name = document.createElement("h5");
    p_name.innerText = product.name;

    let company_name = document.createElement("p");
    company_name.innerText = product.brand;

    let p_price = document.createElement("p");
    p_price.innerText = `Best price* Rs. ${product.price}`;

    let btn = document.createElement("button");
    btn.innerHTML = "ADD TO CART";
    div.append(p_image, p_name, company_name, p_price, btn);
    displaydiv.append(div);

    btn.onclick = function () {
      addtoCart(product);
    };
  });
}
showall();
function appendProducts(p) {
  let parsed_data = p;

  displaydiv.innerHTML = null;
  parsed_data.forEach(function (product) {
    let div = document.createElement("div");

    let p_image = document.createElement("img");
    p_image.src = product.image;

    let p_name = document.createElement("h5");
    p_name.innerText = product.name;

    let company_name = document.createElement("p");
    company_name.innerText = product.brand;

    let p_price = document.createElement("p");
    p_price.innerText = `Best price* Rs. ${product.price}`;

    let btn = document.createElement("button");
    btn.innerHTML = "ADD TO CART";
    div.append(p_image, p_name, company_name, p_price, btn);
    displaydiv.append(div);

    btn.onclick = function () {
      addtoCart(product);
    };
  });
}
function hightolow() {
  var product_list = JSON.parse(localStorage.getItem("products"));
  product_list.sort(function (a, b) {
    return b.price - a.price;
  });
  appendProducts(product_list);
}

function lowtohigh() {
  var product_list = JSON.parse(localStorage.getItem("products"));
  product_list.sort(function (a, b) {
    return a.price - b.price;
  });
  appendProducts(product_list);
}

function popularity() {
  var product_list = JSON.parse(localStorage.getItem("products"));
  product_list.sort(function (a, b) {
    return b.popularity - a.popularity;
  });
  appendProducts(product_list);
}
let parsed_data1 = JSON.parse(localStorage.getItem("products"));
function checkboxdiabetescare() {
  if (chechbox1.checked === true) {
    displaydiv.innerHTML = null;
    parsed_data1.forEach(function (product) {
      if (product.Category == "Diabetes Care Ayurveda") {
        let div = document.createElement("div");

        let p_image = document.createElement("img");
        p_image.src = product.image;

        let p_name = document.createElement("h5");
        p_name.innerText = product.name;

        let company_name = document.createElement("p");
        company_name.innerText = product.brand;

        let p_price = document.createElement("p");
        p_price.innerText = `Rs. ${product.price}`;

        let btn = document.createElement("button");
        btn.innerHTML = "ADD TO CART";
        div.append(p_image, p_name, company_name, p_price, btn);
        displaydiv.append(div);

        btn.onclick = function () {
          addtoCart(product);
        };
      }
    });
  }
}
var chechbox1 = document.getElementById("Diabetes Care Ayurveda");
chechbox1.addEventListener("click", checkboxdiabetescare);
function diabetesmanage() {
  displaydiv.innerHTML = null;
  parsed_data1.forEach(function (product) {
    if (product.Category == "Diabetes Management Supplements") {
      let div = document.createElement("div");

      let p_image = document.createElement("img");
      p_image.src = product.image;

      let p_name = document.createElement("h5");
      p_name.innerText = product.name;

      let company_name = document.createElement("p");
      company_name.innerText = product.brand;

      let p_price = document.createElement("p");
      p_price.innerText = `Best price* Rs. ${product.price}`;

      let btn = document.createElement("button");
      btn.innerHTML = "ADD TO CART";
      div.append(p_image, p_name, company_name, p_price, btn);
      displaydiv.append(div);

      btn.onclick = function () {
        addtoCart(product);
      };
    }
  });
}

var chechbox2 = document.getElementById("Diabetes Management Supplements");
chechbox2.addEventListener("click", diabetesmanage);

function checkboxsugar() {
  displaydiv.innerHTML = null;
  parsed_data1.forEach(function (product) {
    if (product.Category == "Sugar Substitutes") {
      let div = document.createElement("div");

      let p_image = document.createElement("img");
      p_image.src = product.image;

      let p_name = document.createElement("h5");
      p_name.innerText = product.name;

      let company_name = document.createElement("p");
      company_name.innerText = product.brand;

      let p_price = document.createElement("p");
      p_price.innerText = `Best price* Rs. ${product.price}`;

      let btn = document.createElement("button");
      btn.innerHTML = "ADD TO CART";
      div.append(p_image, p_name, company_name, p_price, btn);
      displaydiv.append(div);

      btn.onclick = function () {
        addtoCart(product);
      };
    }
  });
}

var chechbox4 = document.getElementById("Sugar Substitutes");
chechbox4.addEventListener("click", checkboxsugar);

function checkboxherb() {
  displaydiv.innerHTML = null;
  parsed_data1.forEach(function (product) {
    if (product.brand == "Mkt: Herboveda India") {
      let div = document.createElement("div");

      let p_image = document.createElement("img");
      p_image.src = product.image;

      let p_name = document.createElement("h5");
      p_name.innerText = product.name;

      let company_name = document.createElement("p");
      company_name.innerText = product.brand;

      let p_price = document.createElement("p");
      p_price.innerText = `Best price* Rs. ${product.price}`;

      let btn = document.createElement("button");
      btn.innerHTML = "ADD TO CART";
      div.append(p_image, p_name, company_name, p_price, btn);
      displaydiv.append(div);

      btn.onclick = function () {
        addtoCart(product);
      };
    }
  });
}

var chechbox6 = document.getElementById("Mkt: Herboveda India");
chechbox6.addEventListener("click", checkboxherb);
function checkboxcadila() {
  displaydiv.innerHTML = null;
  parsed_data1.forEach(function (product) {
    if (product.brand == "Mkt: Cadila Healthcare Ltd (Zydus)") {
      let div = document.createElement("div");

      let p_image = document.createElement("img");
      p_image.src = product.image;

      let p_name = document.createElement("h5");
      p_name.innerText = product.name;

      let company_name = document.createElement("p");
      company_name.innerText = product.brand;

      let p_price = document.createElement("p");
      p_price.innerText = `Best price* Rs. ${product.price}`;

      let btn = document.createElement("button");
      btn.innerHTML = "ADD TO CART";
      div.append(p_image, p_name, company_name, p_price, btn);
      displaydiv.append(div);

      btn.onclick = function () {
        addtoCart(product);
      };
    }
  });
}

var chechbox7 = document.getElementById("Mkt: Cadila Healthcare Ltd (Zydus)");
chechbox7.addEventListener("click", checkboxcadila);
function addtoCart(el) {
  var cart_data = JSON.parse(localStorage.getItem("cart")) || [];

  cart_data.push(el);
  localStorage.setItem("cart", JSON.stringify(cart_data));
  document.getElementById("lblCartCount").textContent = cart_data.length;
  total_cart_product++;

  //document.getElementById("carttoal").innerHTML = null;
  //var cart_total_p = document.createElement("p");
  //cart_total_p.innerText = total_cart_product;
  //totacartdisplay.append(cart_total_p);
  //console.log(total_cart_product);
}

var cart_data = JSON.parse(localStorage.getItem("cart")) || [];
document.getElementById("lblCartCount").textContent = cart_data.length;
