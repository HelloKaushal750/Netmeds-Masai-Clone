var product_data = [
  {
    id: 1,
    quantity: 1,
    name: "Dettol Antiseptic Liquid 60 ml",
    price: "32.01",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Reckitt Benckiser India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/15114/dettol_antiseptic_liquid_60_ml_0_2.jpg",
    popularity: 3,
  },
  {
    id: 2,
    quantity: 1,
    name: "Dettol Antiseptic Liquid 550 ml",
    price: "205.93",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Reckitt Benckiser India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/835057/dettol_antiseptic_liquid_550_ml_0_1.jpg",
    popularity: 2,
  },
  {
    id: 3,
    quantity: 1,
    name: "Dettol Antiseptic Liquid 1 ltr",
    price: "350.70",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Reckitt Benckiser India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/102099/dettol_antiseptic_liquid_1_ltr_0_2.jpg",
    popularity: 1,
  },
  {
    id: 4,
    quantity: 1,
    name: "Dettol Antiseptic Liquid Disinfectant 250 ml",
    price: "122.91",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Reckitt Benckiser India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/886988/dettol_antiseptic_liquid_disinfectant_250_ml_0_2.jpg",
    popularity: 5,
  },
  {
    id: 5,
    quantity: 1,
    name: "Dettol Antiseptic Liquid Disinfectant 250 ml",
    price: "122.91",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Reckitt Benckiser India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/886988/dettol_antiseptic_liquid_disinfectant_250_ml_0_2.jpg",
    popularity: 6,
  },
  {
    id: 6,
    quantity: 1,
    name: "Dettol Disinfectant - Lime Fresh 500 ml",
    price: "185.09",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Reckitt Benckiser India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/15116/dettol_disinfectant_lime_fresh_500_ml_0_1.jpg",
    popularity: 7,
  },
  {
    id: 7,
    quantity: 1,
    name: "Dettol Disinfectant Liquid - Menthol Cool 500 ml",
    price: "183.35",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Reckitt Benckiser India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/412802/dettol_disinfectant_liquid_menthol_cool_500_ml_0.jpg",
    popularity: 4,
  },
  {
    id: 8,
    quantity: 1,
    name: "Dettol Instant Hand Sanitizer - Original 50 ml",
    price: "25.00",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Reckitt Benckiser India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/15129/dettol_instant_hand_sanitizer_original_50_ml_33218_0_1.jpg",
    popularity: 6,
  },
  {
    id: 9,
    quantity: 1,
    name: "Dettol Disinfectant - Lime Fresh 200 ml",
    price: "93.98",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Reckitt Benckiser India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/15115/dettol_disinfectant_lime_fresh_200_ml_0_1.jpg",
    popularity: 3,
  },
  {
    id: 10,
    quantity: 1,
    name: "Savlon Antiseptic Liquid 100 ml",
    price: "50.02",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Itc India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/406018/savlon_antiseptic_liquid_100_ml_0_1.jpg",
    popularity: 9,
  },
  {
    id: 11,
    quantity: 1,
    name: "Dettol Disinfectant Liquid - Menthol Cool 200 ml",
    price: "93.98",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Reckitt Benckiser India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/412801/dettol_disinfectant_liquid_menthol_cool_200_ml_0.jpg",
    popularity: 5,
  },
  {
    id: 12,
    quantity: 1,
    name: "Romsons Respirometer",
    price: "254.70",
    Category: "Breathe Easy",
    brand: "Mkt: Romsons Scientific & Surgical Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/408712/romsons_respirometer_0.jpg",
    popularity: 1,
  },
  {
    id: 13,
    quantity: 1,
    name: "Palmolive Naturals Liquid Hand Wash - Orchid & Milk",
    price: "99.00",
    Category: "Business Essentials",
    brand: "Mkt: Colgate Palmolive India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/828347/palmolive_naturals_liquid_hand_wash_black_orchid_milk_250_ml_0.jpg",
    popularity: 7,
  },
  {
    id: 14,
    quantity: 1,
    name: "Sahyog Wellness Hot Water Bottle/Bag - Blue",
    price: "249.00",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Sahyog Wellness",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/902228/sahyog_wellness_hot_water_bottle_bag_blue_0_1.jpg",
    popularity: 6,
  },
  {
    id: 15,
    quantity: 1,
    name: "Savlon Moisture Shield Hand Wash 200 ml",
    price: "69.00",
    Category: "Business Essentials",
    brand: "Mkt: Itc India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/412632/savlon_moisture_shield_hand_wash_200_ml_0.jpg",
    popularity: 2,
  },
  {
    id: 16,
    quantity: 1,
    name: "Savlon Herbal Sensitive Hand Wash 200 ml",
    price: "69.00",
    Category: "Business Essentials",
    brand: "Mkt: Itc India Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/412697/savlon_herbal_sensitive_hand_wash_200_ml_0.jpg",
    popularity: 9,
  },
  {
    id: 17,
    quantity: 1,
    name: "Omron Compressor Nebulizer (NE-C101)",
    price: "1904.00",
    Category: "Breathe Easy",
    brand: "Mkt: Omron Healthcare Co Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/859708/omron_compressor_nebulizer_ne_c101_0.jpg",
    popularity: 2,
  },
  {
    id: 18,
    quantity: 1,
    name: "Choicemmed Finger Tip Pulse Oximeter",
    price: "750.00",
    Category: "Measurements",
    brand: "Mkt: Choicemmed Technology India Pvt. Ltd.",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/858055/choicemmed_finger_tip_pulse_oximeter_0.jpg",
    popularity: 1,
  },
  {
    id: 19,
    quantity: 1,
    name: "Chicco Disinfectant Multipurpose 500 ml",
    price: "269.10",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Artsana India Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/815757/chicco_disinfectant_multipurpose_500_ml_0_1.jpg",
    popularity: 2,
  },
  {
    id: 20,
    quantity: 1,
    name: "Newnik Pulse Oximeter With Audio Visual Alarm (PX701) - Royal Blue",
    price: "4073.40",
    Category: "Measurements",
    brand: "Mkt: Newnik Lifecare Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/858256/newnik_pulse_oximeter_with_audio_visual_alarm_px701_royal_blue_0_1.jpg",
    popularity: 6,
  },
  {
    id: 21,
    quantity: 1,
    name: "Mylab Coviself Covid-19 Rapid Antigen Self Test Kit",
    price: "200.00",
    Category: "Measurements",
    brand: "Mylab Discovery Solutions Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/950142/mylab_coviself_covid_19_rapid_antigen_self_test_kit_0_1.jpg",
    popularity: 3,
  },
  {
    id: 22,
    quantity: 1,
    name: "Tri-Activ 5 Layer Protective Face Mask with Head Loop",
    price: "535.50",
    Category: "Mask",
    brand: "Mkt: Piramal Pharma Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/965267/tri_activ_5_layer_protective_face_mask_with_head_loop_pack_of_5_0_1.jpg",
    popularity: 1,
  },
  {
    id: 23,
    quantity: 1,
    name: "Tri-Activ 5 Layer Protective Face Mask with Head Loop (Pack of 5)",
    price: "535.50",
    Category: "Mask",
    brand: "Mkt: Piramal Pharma Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/857271/pro_active_sachet_1gm_0.jpg",
    popularity: 8,
  },
  {
    id: 24,
    quantity: 1,
    name: "Tri-Activ 5 Layer Protective Face Mask with Ear Loop (Pack of 5)",
    price: "386.75",
    Category: "Mask",
    brand: "Mkt: Piramal Pharma Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/965266/tri_activ_5_layer_protective_face_mask_with_ear_loop_pack_of_5_0_1.jpg",
    popularity: 7,
  },
  {
    id: 25,
    quantity: 1,
    name: "iSafe Reusable Face Mask 1's",
    price: "140.00",
    Category: "Mask",
    brand: "Mkt: Bal Pharma Ltd.",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/960664/isafe_reusable_face_mask_1s_0_0.jpg",
    popularity: 4,
  },
  {
    id: 26,
    quantity: 1,
    name: "Puric InstaSafe Antiseptic Disinfectant Liquid 500 ml",
    price: "169.00",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Reliance Retail Limited",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/960532/puric_instasafe_antiseptic_disinfectant_liquid_500_ml_0_2.jpg",
    popularity: 6,
  },
  {
    id: 27,
    quantity: 1,
    name: "Puric InstaSafe Antiseptic Disinfectant Liquid 250 ml",
    price: "105.00",
    Category: "Personal & Home Essentials",
    brand: "Mkt: Reliance Retail Limited",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/960530/puric_instasafe_antiseptic_disinfectant_liquid_250_ml_0_3.jpg",
    popularity: 2,
  },
  {
    id: 28,
    quantity: 1,
    name: "Shake HandZ-E Alcohol Hand Rub With Pump 200 ml",
    price: "95.00",
    Category: "Travel Essentials",
    brand: "Mkt: Inventz Lifesciences Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/958689/shake_handz_e_alcohol_hand_rub_with_pump_200_ml_0_0.jpg",
    popularity: 1,
  },
  {
    id: 29,
    quantity: 1,
    name: "Shake HandZ-E Alcohol Hand Rub With Flip Cap 200 ml",
    price: "49.00",
    Category: "Travel Essentials",
    brand: "Mkt: Inventz Lifesciences Pvt Ltd",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/958682/shake_handz_e_alcohol_hand_rub_with_flicap_200_ml_0_0.jpg",
    popularity: 6,
  },
  {
    id: 30,
    quantity: 1,
    name: "Status Surgical 3-Ply Face Mask with Nose Pin - Faded",
    price: "90.00",
    Category: "Mask",
    brand: "Mkt: Chinar Forge Ltd.",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/958151/status_surgical_3_ply_face_mask_faded_multi_color_pack_of_50_0_1.jpg",
    popularity: 9,
  },
  {
    id: 31,
    quantity: 1,
    name: "Status Surgical 3-Ply Face Mask with Nose Pin - Trends",
    price: "35.00",
    Category: "Mask",
    brand: "Mkt: Chinar Forge Ltd.",
    image:
      "https://www.netmeds.com/images/product-v1/150x150/958141/status_surgical_3_ply_face_mask_trends_pack_of_10_1s_0_0.jpg",
    popularity: 6,
  },
];

var product_data_stringfy = JSON.stringify(product_data);
localStorage.setItem("products", product_data_stringfy);

var parsed_data = JSON.parse(localStorage.getItem("products"));

var displaydiv = document.getElementById("productcarddiv");

function showall() {
  parsed_data.forEach(function (product) {
    let div = document.createElement("div");

    let p_image = document.createElement("img");
    p_image.src = product.image;
    p_image.setAttribute("onclick",'window.location.href = "productpage.html"')

    let p_name = document.createElement("h5");
    p_name.innerText = product.name;

    let company_name = document.createElement("p");
    company_name.innerText = product.brand;

    let p_price = document.createElement("p");
    p_price.innerText = `Best price* Rs. ${product.price}`;

    let btn = document.createElement("button");
    btn.innerHTML = "ADD TO CART";
    div.append(p_image, p_name, company_name, p_price, btn);
    displaydiv.append(div);

    btn.onclick = function () {
      addtoCart(product);
    };
  });
}
showall();
function appendProducts(p) {
  let parsed_data = p;

  displaydiv.innerHTML = null;
  parsed_data.forEach(function (product) {
    let div = document.createElement("div");

    let p_image = document.createElement("img");
    p_image.src = product.image;

    let p_name = document.createElement("h5");
    p_name.innerText = product.name;

    let company_name = document.createElement("p");
    company_name.innerText = product.brand;

    let p_price = document.createElement("p");
    p_price.innerText = `Best price* Rs. ${product.price}`;

    let btn = document.createElement("button");
    btn.innerHTML = "ADD TO CART";
    div.append(p_image, p_name, company_name, p_price, btn);
    displaydiv.append(div);

    btn.onclick = function () {
      addtoCart(product);
    };
  });
}
function hightolow() {
  var product_list = JSON.parse(localStorage.getItem("products"));
  product_list.sort(function (a, b) {
    return b.price - a.price;
  });
  appendProducts(product_list);
}

function lowtohigh() {
  var product_list = JSON.parse(localStorage.getItem("products"));
  product_list.sort(function (a, b) {
    return a.price - b.price;
  });
  appendProducts(product_list);
}

function popularity() {
  var product_list = JSON.parse(localStorage.getItem("products"));
  product_list.sort(function (a, b) {
    return b.popularity - a.popularity;
  });
  appendProducts(product_list);
}
let parsed_data1 = JSON.parse(localStorage.getItem("products"));
function checkboxpersonal() {
  if (chechbox1.checked === true) {
    displaydiv.innerHTML = null;
    parsed_data1.forEach(function (product) {
      if (product.Category == "Personal & Home Essentials") {
        let div = document.createElement("div");

        let p_image = document.createElement("img");
        p_image.src = product.image;

        let p_name = document.createElement("h5");
        p_name.innerText = product.name;

        let company_name = document.createElement("p");
        company_name.innerText = product.brand;

        let p_price = document.createElement("p");
        p_price.innerText = `Rs. ${product.price}`;

        let btn = document.createElement("button");
        btn.innerHTML = "ADD TO CART";
        div.append(p_image, p_name, company_name, p_price, btn);
        displaydiv.append(div);

        btn.onclick = function () {
          addtoCart(product);
        };
      }
    });
  }
}
var chechbox1 = document.getElementById("Personal & Home Essentials");
chechbox1.addEventListener("click", checkboxpersonal);
function checkboxbreatheeasy() {
  displaydiv.innerHTML = null;
  parsed_data1.forEach(function (product) {
    if (product.Category == "Breathe Easy") {
      let div = document.createElement("div");

      let p_image = document.createElement("img");
      p_image.src = product.image;

      let p_name = document.createElement("h5");
      p_name.innerText = product.name;

      let company_name = document.createElement("p");
      company_name.innerText = product.brand;

      let p_price = document.createElement("p");
      p_price.innerText = `Best price* Rs. ${product.price}`;

      let btn = document.createElement("button");
      btn.innerHTML = "ADD TO CART";
      div.append(p_image, p_name, company_name, p_price, btn);
      displaydiv.append(div);

      btn.onclick = function () {
        addtoCart(product);
      };
    }
  });
}

var chechbox2 = document.getElementById("Breathe Easy");
chechbox2.addEventListener("click", checkboxbreatheeasy);
function checkboxbusiness() {
  displaydiv.innerHTML = null;
  parsed_data1.forEach(function (product) {
    if (product.Category == "Business Essentials") {
      let div = document.createElement("div");

      let p_image = document.createElement("img");
      p_image.src = product.image;

      let p_name = document.createElement("h5");
      p_name.innerText = product.name;

      let company_name = document.createElement("p");
      company_name.innerText = product.brand;

      let p_price = document.createElement("p");
      p_price.innerText = `Best price* Rs. ${product.price}`;

      let btn = document.createElement("button");
      btn.innerHTML = "ADD TO CART";
      div.append(p_image, p_name, company_name, p_price, btn);
      displaydiv.append(div);

      btn.onclick = function () {
        addtoCart(product);
      };
    }
  });
}

var chechbox3 = document.getElementById("Business Essentials");
chechbox3.addEventListener("click", checkboxbusiness);
function checkboxmeasure() {
  if (chechbox1.checked === true) {
    displaydiv.innerHTML = null;
    parsed_data1.forEach(function (product) {
      if (product.Category == "Measurements") {
        let div = document.createElement("div");

        let p_image = document.createElement("img");
        p_image.src = product.image;

        let p_name = document.createElement("h5");
        p_name.innerText = product.name;

        let company_name = document.createElement("p");
        company_name.innerText = product.brand;

        let p_price = document.createElement("p");
        p_price.innerText = `Best price* Rs. ${product.price}`;

        let btn = document.createElement("button");
        btn.innerHTML = "ADD TO CART";
        div.append(p_image, p_name, company_name, p_price, btn);
        displaydiv.append(div);

        btn.onclick = function () {
          addtoCart(product);
        };
      }
    });
  }
}
var chechbox4 = document.getElementById("Mask");
chechbox4.addEventListener("click", checkboxmeasure);
function checkboxmask() {
  displaydiv.innerHTML = null;
  parsed_data1.forEach(function (product) {
    if (product.Category == "Mask") {
      let div = document.createElement("div");

      let p_image = document.createElement("img");
      p_image.src = product.image;

      let p_name = document.createElement("h5");
      p_name.innerText = product.name;

      let company_name = document.createElement("p");
      company_name.innerText = product.brand;

      let p_price = document.createElement("p");
      p_price.innerText = `Best price* Rs. ${product.price}`;

      let btn = document.createElement("button");
      btn.innerHTML = "ADD TO CART";
      div.append(p_image, p_name, company_name, p_price, btn);
      displaydiv.append(div);

      btn.onclick = function () {
        addtoCart(product);
      };
    }
  });
}

var chechbox5 = document.getElementById("Mask");
chechbox5.addEventListener("click", checkboxmask);

function checkboxreck() {
  displaydiv.innerHTML = null;
  parsed_data1.forEach(function (product) {
    if (product.brand == "Mkt: Reckitt Benckiser India Ltd") {
      let div = document.createElement("div");

      let p_image = document.createElement("img");
      p_image.src = product.image;

      let p_name = document.createElement("h5");
      p_name.innerText = product.name;

      let company_name = document.createElement("p");
      company_name.innerText = product.brand;

      let p_price = document.createElement("p");
      p_price.innerText = `Best price* Rs. ${product.price}`;

      let btn = document.createElement("button");
      btn.innerHTML = "ADD TO CART";
      div.append(p_image, p_name, company_name, p_price, btn);
      displaydiv.append(div);

      btn.onclick = function () {
        addtoCart(product);
      };
    }
  });
}

var chechbox6 = document.getElementById("Mkt: Reckitt Benckiser India Ltd");
chechbox6.addEventListener("click", checkboxreck);
function checkboxltc() {
  displaydiv.innerHTML = null;
  parsed_data1.forEach(function (product) {
    if (product.brand == "Mkt: Itc India Ltd") {
      let div = document.createElement("div");

      let p_image = document.createElement("img");
      p_image.src = product.image;

      let p_name = document.createElement("h5");
      p_name.innerText = product.name;

      let company_name = document.createElement("p");
      company_name.innerText = product.brand;

      let p_price = document.createElement("p");
      p_price.innerText = `Best price* Rs. ${product.price}`;

      let btn = document.createElement("button");
      btn.innerHTML = "ADD TO CART";
      div.append(p_image, p_name, company_name, p_price, btn);
      displaydiv.append(div);

      btn.onclick = function () {
        addtoCart(product);
      };
    }
  });
}

var chechbox7 = document.getElementById("Mkt: Itc India Ltd");
chechbox7.addEventListener("click", checkboxltc);
var total_cart_product = 0;
//var totacartdisplay = document.getElementById("carttoal");

function addtoCart(el) {
  var cart_data = JSON.parse(localStorage.getItem("cart")) || [];

  cart_data.push(el);
  localStorage.setItem("cart", JSON.stringify(cart_data));
  document.getElementById("lblCartCount").textContent = cart_data.length;
  total_cart_product++;

  //document.getElementById("carttoal").innerHTML = null;
  //var cart_total_p = document.createElement("p");
  //cart_total_p.innerText = total_cart_product;
  //totacartdisplay.append(cart_total_p);
  //console.log(total_cart_product);
}

var cart_data = JSON.parse(localStorage.getItem("cart")) || [];
document.getElementById("lblCartCount").textContent = cart_data.length;
